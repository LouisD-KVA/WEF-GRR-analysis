import numpy as np
import matplotlib.pyplot as plt

data = np.array([
    [0, 0, 6.875, 0, 0, 0, 1.458333, 16.25, 6.33333, 0, 0,
        0, 9.75, 2.291667, 2.291667, 14.70833, 16.375],
    [0, 0, 8.403855634, 0, 0, 2.045630782, 3.477198259, 16.74685969,
        4.534337553, 0, 0, 0, 6.801379726, 0, 0, 16.24976271, 15.06597547],
    [0, 0, 9.722811756, 0, 0, 1.784190302, 3.518417583, 20.45770628, 4.564843398,
        0, 0, 0, 10.18021255, 2.380096791, 2.380096791, 19.70184578, 22.3907486],
    [0, 2.527022281, 11.52338789, 0, 0, 1.788778835, 2.390153543, 32.33326516, 7.406848118,
        1.100229795, 0, 0, 10.78349111, 3.588052042, 3.588052042, 23.02808887, 29.92348496],
    [0, 3.373028551, 12.85805365, 0, 0, 1.879980793, 3.291465425, 36.60162107, 9.330425808,
        1.379925069, 0, 0, 11.74010606, 4.156237861, 4.156237861, 24.73894481, 31.81931734],
    [2.730958333, 7.754655667, 7.647553167, 0, 0, 5.174040667, 5.228480667, 33.15478417,
        11.556361, 5.400618, 0, 0, 8.490094, 4.786835167, 2.603976833, 30.26589783, 12.81776517],
    [8.198517035, 14.51835509, 15.42644983, 2.502013668, 0, 8.668049343, 16.93909812, 33.45558042, 22.28047878,
        8.77372193, 2.80572445, 5.775436082, 15.86463465, 15.69510145, 18.23996363, 49.44818777, 20.07225981],
    [9.060783333, 15.46093333, 16.0203, 2.647733333, 0, 9.05825, 18.44868333, 35.64736667, 23.45166667,
        9.189816667, 2.918183333, 6.181033333, 17.16953333, 16.62091667, 19.35258333, 52.26661667, 21.69591667],
    [2.575729932, 5.705978325, 7.301171957, 0, 0, 3.031706109, 7.773955819, 26.01775086, 10.668214,
        5.758712079, 2.575729932, 0, 11.71250211, 11.38827757, 13.61933542, 27.91794471, 10.17368953],
    [2.4904581, 2.938847685, 2.950294163, 0, 0, 3.277039806, 2.893174271, 22.3592781, 13.93089803,
        5.268609608, 2.4904581, 0, 12.01975622, 11.64875134, 11.64875134, 24.06589378, 6.272810188],
    [2.488540831, 2.982058096, 2.734420962, 0, 0, 3.243923959, 3.017491337, 25.45961609, 13.85860757,
        5.984788658, 2.488540831, 0, 12.3501436, 12.00083776, 14.81639215, 26.54281015, 6.009872086],
    [2.57154912, 2.943874654, 2.742506631, 0, 0, 3.107855353, 2.730900519, 24.95880882, 13.9647282,
        5.892811045, 2.57154912, 0, 13.18374264, 12.9535026, 15.87066414, 29.89912474, 8.753154549],
    [2.616777184, 2.877417145, 2.603587223, 0, 0, 3.046042903, 2.464064366, 22.7946569, 14.15398945,
        5.668428475, 2.616777184, 0, 13.5467584, 13.25568393, 15.91043348, 28.36630125, 8.003530556],
    [2.648008731, 2.62377158, 2.669269283, 0, 0, 3.111671322, 2.449367282, 22.94834303, 14.37043397,
        5.662685656, 2.648008731, 0, 13.49463449, 13.17262444, 15.73480637, 27.58520096, 8.356408847],
    [2.447707958, 2.635009131, 2.578653425, 0, 0, 3.112404902, 2.392800911, 22.51850185, 14.12232127,
        5.238878564, 2.447707958, 0, 13.46748101, 13.24345523, 13.24345523, 24.40851353, 8.340565332],
    [2.975927445, 2.37869955, 8.368580642, 7.631376985, 0, 2.37869955, 8.012788776, 23.10710387, 20.49004312,
        5.822572387, 2.975927445, 2.907330061, 12.67807108, 12.33161524, 14.69017426, 39.1390158, 10.62788485],
    [3.437086093, 6.710816777, 9.997792494, 6.913907285, 0, 6.710816777, 7.306843267, 27.06843267, 20.70640177,
        7.434878587, 3.437086093, 3.984547461, 16.43708609, 12.01103753, 15.2406181, 45.18543046, 10.91611479],
    [6.966906333, 6.538166059, 13.65625923, 10.82760432, 3.366689648, 10.20450442, 10.71171082, 38.89241275,
        27.6826882, 10.72694442, 0, 7.485406612, 11.57332808, 19.39581076, 22.39791195, 44.28658196, 6.858793788]
])

# The years including 2011 and excluding 2022
years = np.array([2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013,
                 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2023, 2024])


# Calculer la moyenne et l'écart type pour chaque ligne
mean_vals = data.mean(axis=1, keepdims=True)
std_vals = data.std(axis=1, keepdims=True)

# Normaliser les données
data_normalized = (data - mean_vals) / std_vals

# Scale the data to the range [0, 1]
data_min = data_normalized.min()
data_max = data_normalized.max()
data_scaled = (data_normalized - data_min) / (data_max - data_min)

# Define the SDG names
sdg_names = [
    "1. No Poverty", "2. Zero Hunger", "3. Good Health", "4. Quality Education",
    "5. Gender Equality", "6. Clean Water", "7. Affordable Energy", "8. Decent Work",
    "9. Industry & Innovation", "10. Reduced Inequalities", "11. Sustainable Cities",
    "12. Responsible Consumption", "13. Climate Action", "14. Life Below Water",
    "15. Life on Land", "16. Peace & Justice", "17. Partnerships"
]

plt.figure(figsize=(12, 8))  # Augmenter la taille de la figure
plt.imshow(data_scaled, cmap='Blues', aspect='auto', vmin=0, vmax=1)
plt.colorbar(label='Normalized (Z-score method) Proportion of words')
plt.xlabel('SDGs')
plt.ylabel('Years')
# Rotation et ajustement de la taille des étiquettes
plt.xticks(np.arange(17), sdg_names, rotation=40, ha='right', fontsize=8)
# Ajustement de la taille des étiquettes
plt.yticks(np.arange(18), years, fontsize=8)
plt.tight_layout()  # Ajustement automatique du placement des éléments dans la figure
plt.show()
